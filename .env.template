# USF Fabric Monitoring â€” Environment Template
#
# 1) Copy:  cp .env.template .env
# 2) Fill only what you need
# 3) Do NOT commit `.env`

# ---------------------------------------------------------------------------
# Azure Authentication
# ---------------------------------------------------------------------------
# Recommended for automation/CI: Service Principal credentials.
# If left blank, the code will try DefaultAzureCredential (Azure CLI login,
# Managed Identity, or Fabric notebook identity).
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

# Optional legacy aliases (supported for backward compatibility)
TENANT_ID=
CLIENT_ID=
CLIENT_SECRET=

# ---------------------------------------------------------------------------
# API Endpoints (optional)
# ---------------------------------------------------------------------------
FABRIC_API_BASE_URL=https://api.fabric.microsoft.com
FABRIC_API_VERSION=v1
POWERBI_API_BASE_URL=https://api.powerbi.com

# ---------------------------------------------------------------------------
# Monitor Hub Defaults
# ---------------------------------------------------------------------------
MAX_HISTORICAL_DAYS=28
DEFAULT_ANALYSIS_DAYS=7
EXPORT_DIRECTORY=exports/monitor_hub_analysis

# ---------------------------------------------------------------------------
# Config Overrides (optional)
# ---------------------------------------------------------------------------
# If set, config loaders will look here first for config JSON files.
USF_FABRIC_MONITORING_CONFIG_DIR=

# ---------------------------------------------------------------------------
# HTTP / Retry Tuning (optional)
# ---------------------------------------------------------------------------
API_REQUEST_TIMEOUT=30
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=2

# ---------------------------------------------------------------------------
# Workspace Access Enforcement Defaults (optional)
# ---------------------------------------------------------------------------
FABRIC_ENFORCER_API_PREFERENCE=auto
FABRIC_ENFORCER_LOG_LEVEL=INFO

# ---------------------------------------------------------------------------
# Admin Scanner API (for usf-extract-lineage --mode scanner)
# ---------------------------------------------------------------------------
# The scanner mode uses Power BI Admin APIs for fast batch lineage extraction.
# Requires Service Principal with Tenant.Read.All permission in Azure AD.
# See: https://learn.microsoft.com/en-us/rest/api/power-bi/admin/workspace-info
HYBRID_MODE_THRESHOLD=50

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------
LOG_LEVEL=INFO